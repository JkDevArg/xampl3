import{o as Z,g as $,i as ee,I as M,j as q,b as z,a as ae,d as C,f as D,s as H,r as re,e as te,h as se,c as le}from"./translation.DWx5YfJ5.js";import{p as oe,l as ie,a as ne,t as j,b as S,g as e,e as ce,c as x,d as de,h as g,i as m,k as A,s as p,j as r,m as F,r as t,o as ve,f as he,n as G}from"./render.BnR4vBDB.js";import{O as pe}from"./overlayscrollbars.CTPgljnM.js";var ue=j('<a class="mx-2 py-3 px-4 hover:bg-[var(--primary-color-hover)] transition-colors duration-150 rounded-lg"><div class="flex flex-row space-x-2 items-center"><p class="line-clamp-1 text-lg font-semibold text-[var(--text-color)]"> </p> <span class="text-[var(--primary-color)] font-extrabold flex-shrink-0"><!></span></div> <div class="mt-1"><p class="text-sm line-clamp-2 text-[var(--text-color-lighten)]"><!></p></div></a>'),fe=j('<div class="p-4 text-center text-[var(--text-color-lighten)]"> </div>'),xe=j('<div class="search-bar hidden lg:block relative svelte-ip84uf"><div class="bg-black/5 dark:bg-white/5 h-10 rounded-lg flex flex-row"><label for="search-bar-input" class="w-10 h-10 flex flex-row justify-center items-center pl-2 pr-1 hover:cursor-pointer text-gray-400 dark:text-gray-500"><!></label> <input id="search-bar-input" class="w-36 text-[var(--text-color)] xl:focus:w-60 bg-transparent outline-none transition-all duration-200 placeholder:text-gray-400 dark:placeholder:text-gray-500 svelte-ip84uf" type="text" autocomplete="off"></div> <div id="result-pannel" class="max-h-[436px] overflow-y-auto opacity-0 !absolute h-0 right-0 w-[28rem] bg-[var(--card-color)] dark:bg-[var(--card-color)] rounded-2xl top-12 mt-2 shadow-lg transition-all duration-200 border border-gray-100 dark:border-gray-800 z-50"><div class="flex flex-col h-full divide-y divide-gray-100 dark:divide-gray-800"><!></div></div></div>');function be(J,N){oe(N,!1);let l=g(""),i=g([]),s=g(null),_=g(null);const I=async a=>{if(!a.trim()){b();return}try{const o=await pagefind?.search(a);if(!o)return;p(i,await Promise.all(o.results.map(d=>d.data()))),O()}catch(o){console.error("Search error:",o),b()}},O=()=>{if(!e(s))return;const a=e(l)&&e(i).length>0;F(s,e(s).style.height=a?`${Math.min(e(i).length*84+16,436)}px`:"0px"),F(s,e(s).style.opacity=a?"1":"0")},b=()=>{p(i,[]),O()},P=a=>{!e(s)?.contains(a.target)&&!e(_)?.contains(a.target)&&b()};Z(()=>{document.addEventListener("click",P),e(s)&&pe(e(s),{scrollbars:{theme:"scrollbar-base scrollbar-auto py-1",autoHide:"move"}})}),$(()=>{document.removeEventListener("click",P)}),ie(()=>e(l),()=>{e(l)!==void 0&&I(e(l))}),ne(),ee();var u=xe(),y=r(u),w=r(y),Q=r(w);M(Q,{icon:"mingcute:search-line",width:24,height:24}),t(w);var f=m(w,2);re(f),t(y);var k=m(y,2),B=r(k),T=r(B);{var U=a=>{var o=ve(),d=he(o);te(d,1,()=>e(i),le,(v,n)=>{var c=ue(),h=r(c),R=r(h),W=r(R,!0);t(R);var E=m(R,2),X=r(E);M(X,{icon:"cuida:caret-right-outline",width:16,height:16}),t(E),t(h);var K=m(h,2),L=r(K),Y=r(L);se(Y,()=>e(n).excerpt),t(L),t(K),t(c),S(()=>{H(c,"href",e(n).url),G(W,e(n).meta.title)}),x(v,c)}),x(a,o)},V=(a,o)=>{{var d=v=>{var n=fe(),c=r(n,!0);t(n),S(h=>G(c,h),[()=>C(D.search_no_results)],A),x(v,n)};q(a,v=>{e(l)&&e(i).length===0&&v(d)},o)}};q(T,a=>{e(i).length>0?a(U):a(V,!1)})}t(B),t(k),z(k,a=>p(s,a),()=>e(s)),t(u),z(u,a=>p(_,a),()=>e(_)),S(a=>H(f,"placeholder",a),[()=>C(D.nav_bar_search_placeholder)],A),ae(f,()=>e(l),a=>p(l,a)),ce("focus",f,()=>e(l)&&I(e(l))),x(J,u),de()}export{be as default};
